
(in-package #:clans)

(defvar *width* 1024)
(defvar *height* 768)

(defvar *screens* nil)

;; TODO: integrate this into glaw's navmesh
;; TODO: This means thinking about navmesh's protocol
(defparameter +map-graph+
  '((1 2 3) (0 3 4 5) (15 0 3 4) (4 2 1 0) (20 15 5 1 2 3)
    (1 4 20 6 9) (5 7 9) (6 8 9) (7 10 12 26 9) (5 6 7 8 21 25)
    (8 12 13 11) (10 13 14) (8 10 13 14 30 26) (10 11 12 14) (11 12 13 30)
    (2 4 20 16 17) (15 17 18) (15 16 18 19 35 22) (16 17 19) (18 17 37 46 45)
    (5 4 15 22 23) (9 25 23 24) (20 23 24 17 35) (20 21 24 22) (21 22 23 27 36)
    (21 27 28 26 9) (8 12 25 28 29 30) (25 28 24 36 40) (25 26 29 27) (26 28 31 41)
    (14 12 26 31 32) (29 30 32 33 34 41) (30 31 33) (32 31 34) (33 31 44 55 56)
    (22 17 36 38 37) (24 27 40 39 38 35) (19 35 38 50 46) (35 36 37 39) (36 38 37 42 51)
    (27 36 42 43 41) (40 43 44 31 29) (40 43 44 51 39) (40 41 42 44) (41 43 42 34 55 54)
    (19 46 48 47) (19 37 50 49 48 45) (45 48 49) (45 46 49 47) (47 48 46 50)
    (37 46 49 51 52) (42 39 50 52 53 54) (50 51 53) (52 51 54) (53 51 55 57 44)
    (44 54 34 56 58 57) (34 55 58 59) (54 55 58 59) (55 56 57 59) (57 56 58)))

(defconstant +map-positions+
  '((725.641 633.2054) (802.51184 629.66907) (702.0033 553.5541) (950.0219 498.19366)
    (655.8767 484.57108) (458.33896 695.2213) (560.9547 451.19955) (545.78235 713.6312)
    (292.36166 640.13403) (36.780113 707.7508) (93.84347 650.5607) (171.51292 579.65735)
    (50.3644 581.8512) (196.23215 710.1722) (65.31765 493.2571) (646.97736 296.869)
    (417.2965 326.94858) (435.31702 415.77148) (536.198 346.19452) (437.51648 532.82635)
    (515.044 613.9958) (364.362 482.94714) (261.37076 539.6569) (292.551 299.7905)
    (287.29315 423.61215) (765.2963 420.34286) (845.79596 378.43234) (918.90314 317.12222)
    (743.446 320.4049) (585.8724 562.83386) (573.0854 248.18292) (993.29364 45.43988)
    (676.7851 221.85149) (676.31116 84.61701) (436.4157 240.54858) (332.42245 236.47984)
    (246.79854 191.90866) (158.71318 378.10315) (938.55853 591.65814) (164.07147 170.25485)
    (27.79892 346.2862) (48.676266 418.37723) (307.35974 77.202805) (9.382909 251.2)
    (31.655926 179.38269) (879.86804 236.81815) (910.5371 173.76007) (756.3281 11.200075)
    (877.6946 95.26446) (768.22253 144.97186) (796.6859 710.78754) (576.8936 21.577173)
    (428.846 17.681995) (471.67914 79.31664) (860.63635 665.82935) (111.46779 119.954185)
    (927.1986 713.15216) (973.96454 427.61188) (172.98734 26.331434) (31.35677 19.382858)))

(defconstant +map-slots+
  '(((13.200001 677.16) (41.2 696.36) (79.6 725.16) (40.4 728.04) (10.0 731.88))
    ((179.6 686.76) (218.8 687.72) (230.8 712.68) (192.4 727.08) (159.6 729.0))
    ((76.4 558.12) (62.0 587.88) (29.2 561.96) (5.2 585.96) (2.0 622.44))
    ((98.8 645.48) (127.600006 650.28) (116.4 680.04) (78.0 666.6) (59.6 636.84))
    ((169.2 565.8) (197.2 633.96) (164.4 605.16) (125.2 590.76) (120.399994 547.56))
    ((278.8 628.2) (314.8 660.84) (268.4 679.08) (326.0 710.76) (270.8 719.4))
    ((476.4 704.04) (443.6 677.16) (418.0 705.0) (457.2 732.84) (386.0 732.84))
    ((565.2 671.4) (550.8 696.36) (554.8 730.92) (596.4 710.76) (523.6 742.44))
    ((702.8 655.08) (696.4 701.16) (666.8 701.16) (686.8 730.92) (655.6 735.72))
    ((457.2 627.24) (485.2 647.4) (526.8 629.16) (558.8 603.24) (586.0 642.6))
    ((803.6 707.88) (842.0 735.72) (795.6 738.6) (759.6 721.32) (758.0 687.72))
    ((986.0 709.8) (963.6 732.84) (926.8 729.0) (960.4 682.92) (1001.2 658.92))
    ((878.0 554.28) (854.0 591.72) (823.6 610.92) (813.2 647.4) (773.2 655.08))
    ((911.6 640.68) (873.2 654.12) (910.8 670.44) (884.4 686.76) (851.6 681.0))
    ((987.6 570.6) (939.6 574.44) (923.6 609.0) (972.4 608.04) (998.0 611.88))
    ((123.600006 495.72) (86.8 480.36) (60.4 516.84) (27.599998 489.96) (10.799999 522.6))
    ((8.4 418.92) (40.4 410.28) (75.6 421.8) (50.8 442.92) (10.0 462.12))
    ((198.8 374.76) (164.4 386.28) (128.4 406.44) (119.600006 365.16) (106.0 328.68))
    ((28.400002 313.32) (6.0 326.76) (64.4 340.2) (35.6 357.48) (6.0 355.56))
    ((87.6 280.68) (67.6 248.04001) (42.8 276.84) (31.599998 242.28) (3.6000004 261.48))
    ((290.0 503.40002) (261.2 525.48) (273.2 561.96) (231.6 568.68) (209.2 525.48))
    ((469.2 537.96) (466.8 573.48) (429.2 546.6) (432.4 507.24) (400.4 530.28))
    ((316.4 422.76) (289.2 404.52) (252.4 414.12) (278.0 441.96) (247.6 448.68))
    ((386.0 464.04) (371.6 506.28003) (353.2 457.32) (333.2 480.36) (305.2 461.16))
    ((422.8 395.88) (451.6 422.76) (439.6 454.44) (404.4 434.28) (362.0 417.96))
    ((562.8 532.2) (597.2 523.56) (618.0 548.52) (593.2 561.0) (560.4 557.16))
    ((759.6 528.36) (803.6 541.8) (773.2 578.28) (747.6 573.48) (713.2 555.24))
    ((502.8 400.68) (574.0 424.68) (582.0 465.0) (540.4 461.16) (517.2 435.24))
    ((670.8 457.32) (707.6 495.72) (666.8 501.47998) (643.6 456.36) (638.8 491.88))
    ((775.6 392.04) (797.2 423.72) (752.4 427.56) (740.4 452.52) (715.6 420.84))
    ((945.2 469.8) (981.2 475.56) (997.2 504.36) (942.0 523.56) (906.0 513.0))
    ((869.2 350.76) (877.2 425.64) (851.6 406.44) (840.4 367.08) (834.0 324.84))
    ((994.0 441.96) (979.6 393.0) (962.0 403.56) (926.0 400.68) (922.8 381.48))
    ((966.8 283.56) (1002.8 298.92) (983.6 334.44) (948.4 337.32) (922.8 316.2))
    ((849.2 231.72) (904.4 276.84) (906.8 232.68) (938.8 252.84) (973.2 232.68))
    ((252.4 261.48) (278.0 283.56) (314.0 300.84) (282.0 324.84) (257.2 349.8))
    ((411.6 350.76) (462.8 341.16) (424.4 310.44) (371.6 292.2) (411.6 289.32))
    ((302.0 180.84) (255.6 177.0) (200.4 221.16) (173.2 259.56) (134.8 247.07999))
    ((303.6 227.88) (336.4 219.24) (371.6 208.68) (372.4 251.88) (333.2 265.32))
    ((418.8 239.4) (415.6 204.84) (422.0 155.88) (458.0 185.64) (470.8 220.2))
    ((551.6 318.12) (614.0 338.28) (572.4 341.16) (538.8 346.92) (506.0 350.76))
    ((775.6 326.76) (725.2 359.4) (693.2 346.92) (727.6 308.52) (758.8 278.76))
    ((544.4 263.4) (570.8 230.76) (530.0 219.24) (554.0 198.12) (590.0 207.72))
    ((622.0 253.79999) (651.6 267.24) (674.0 279.72) (650.0 309.48) (622.8 278.76))
    ((661.2 211.56) (698.8 232.68) (729.2 207.72) (743.6 240.36) (776.4 216.36))
    ((16.4 127.08) (53.2 162.6) (9.200001 163.56) (42.8 200.04) (4.3999996 187.56))
    ((210.8 138.6) (177.2 132.84) (146.8 159.72) (156.4 188.52) (124.399994 196.2))
    ((82.8 -6.3599997) (42.0 1.3199997) (53.2 38.76) (9.200001 41.64) (7.6000004 72.36))
    ((96.4 100.2) (70.0 98.28) (86.0 127.08) (127.600006 101.16) (110.0 71.4))
    ((205.2 2.2800007) (214.0 45.48) (177.2 56.04) (140.4 29.16) (149.2 -5.3999996))
    ((300.4 4.200001) (270.8 34.92) (312.4 70.44) (274.8 68.52) (265.2 110.76))
    ((524.4 132.84) (489.2 76.2) (459.6 70.44) (414.0 70.44) (368.4 72.36))
    ((479.6 21.48) (432.4 -7.32) (408.4 20.52) (374.0 -6.3599997) (353.2 21.48))
    ((614.8 16.68) (603.6 -9.24) (569.2 33.0) (553.2 -5.3999996) (540.4 37.8))
    ((682.0 132.84) (694.0 38.76) (679.6 84.84) (634.0 65.64) (595.6 88.68))
    ((776.4 113.64) (737.2 138.6) (744.4 170.28) (785.2 179.88) (822.0 149.16))
    ((971.6 153.0) (930.0 190.44) (900.4 146.28) (898.0 184.68) (874.0 169.32))
    ((844.4 6.120001) (798.0 9.959999) (759.6 7.08) (788.4 56.04) (746.0 55.08))
    ((870.8 109.8) (834.8 89.64) (866.8 68.52) (899.6 56.04) (921.2 88.68))
    ((983.6 72.36) (994.8 27.240002) (947.6 29.16) (964.4 -5.3999996) (911.6 5.16))))

(defconstant +map-types+
  '(:desert :mountain :mountain :plain :forest
    :plain :desert :plain :mountain :forest
    :forest :plain :desert :mountain :forest
    :plain :desert :mountain :forest :desert
    :desert :plain :forest :plain :mountain
    :mountain :plain :forest :desert :mountain
    :mountain :desert :plain :forest :mountain
    :desert :plain :forest :mountain :desert
    :desert :forest :forest :plain :mountain
    :plain :mountain :forest :desert :plain
    :desert :forest :mountain :forest :plain
    :plain :desert :desert :forest :mountain))

(defconstant +colors+
  (list (glaw:create-color 1.0 1.0 1.0 1.0)
        (glaw:create-color 1.0 0.0 0.0 1.0)
        (glaw:create-color 0.0 1.0 0.0 1.0)
        (glaw:create-color 0.0 0.0 1.0 1.0)
        (glaw:create-color 1.0 1.0 0.0 1.0)))
